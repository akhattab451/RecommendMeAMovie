<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".ui.movie.MovieFragment">

    <data>

        <variable
            name="viewModel"
            type="com.example.recommendmeamovie.ui.movie.MovieViewModel" />

    </data>

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="@dimen/default_margin">

            <ImageView
                android:id="@+id/poster_image_view"
                poster="@{viewModel.movieDetails.poster}"
                android:layout_width="138dp"
                android:layout_height="200dp"
                android:layout_marginTop="16dp"
                android:contentDescription="@string/movie_poster"
                android:scaleType="fitXY"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <TextView
                android:id="@+id/title_text_view"
                style="@style/TextAppearance.AppCompat.Headline"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/default_margin"
                android:text="@{viewModel.movieDetails.title}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintHorizontal_bias="0.092"
                app:layout_constraintStart_toEndOf="@+id/poster_image_view"
                app:layout_constraintTop_toTopOf="@+id/poster_image_view"
                app:layout_constraintWidth_default="wrap"
                tools:text="Citizen Kane" />

            <TextView
                android:id="@+id/directed_by"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/directed_by"
                app:layout_constraintStart_toStartOf="@+id/title_text_view"
                app:layout_constraintTop_toBottomOf="@+id/title_text_view" />

            <TextView
                android:id="@+id/director_text_view"
                style="@style/TextAppearance.AppCompat.Subhead"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:text="@{viewModel.director.name}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintHorizontal_bias="0.0"
                app:layout_constraintStart_toStartOf="@+id/directed_by"
                app:layout_constraintTop_toBottomOf="@+id/directed_by"
                app:layout_constraintWidth_default="wrap"
                tools:text="Orson Welles" />

            <LinearLayout
                android:id="@+id/linearLayout"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/default_margin"
                android:orientation="horizontal"
                app:layout_constraintStart_toStartOf="@+id/director_text_view"
                app:layout_constraintTop_toBottomOf="@+id/director_text_view">

                <TextView
                    android:id="@+id/runtime_text_view"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_marginEnd="@dimen/default_margin"
                    android:text="@{@string/runtime(viewModel.movieDetails.runtime)}"
                    tools:text="119 minutes" />

                <TextView
                    android:id="@+id/release_text_view"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginEnd="@dimen/default_margin"
                    android:text="@{viewModel.year}"
                    tools:text="1941" />
            </LinearLayout>


            <TextView
                android:id="@+id/genre_text_view"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:text="@{viewModel.genres}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintHorizontal_bias="0.0"
                app:layout_constraintWidth_default="wrap"
                app:layout_constraintStart_toStartOf="@+id/linearLayout"
                app:layout_constraintTop_toBottomOf="@+id/linearLayout"
                tools:text="Drama/Mystery" />

            <LinearLayout
                android:id="@+id/buttonsLayout"
                android:layout_width="wrap_content"
                android:layout_height="48dp"
                android:layout_marginTop="@dimen/default_margin"
                android:orientation="horizontal"
                app:layout_constraintStart_toStartOf="@+id/linearLayout"
                app:layout_constraintTop_toBottomOf="@+id/genre_text_view">

                <TextView
                    android:id="@+id/vote_average_text_view"
                    android:layout_width="48dp"
                    android:layout_height="match_parent"
                    android:layout_marginEnd="8dp"
                    android:background="#21E621"
                    android:contentDescription="@string/vote_average"
                    android:gravity="center"
                    android:text="@{String.valueOf(viewModel.movieDetails.voteAverage)}"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/genre_text_view" />

                <ImageButton
                    android:id="@+id/add_to_watchlist_button"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:layout_marginEnd="8dp"
                    android:padding="0dp"
                    android:scaleType="fitXY"
                    android:src="@drawable/ic_watchlist"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/genre_text_view" />

                <ImageButton
                    android:id="@+id/add_to_your_films_button"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:layout_marginEnd="8dp"
                    android:padding="0dp"
                    android:scaleType="fitXY"
                    android:src="@drawable/ic_watched"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/genre_text_view" />
            </LinearLayout>

            <TextView
                android:id="@+id/overview_text_view"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/default_margin"
                android:text="@{viewModel.movieDetails.overview}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/buttonsLayout"
                tools:text="When a reporter is assigned to decipher newspaper magnate Charles Foster Kane's (Orson Welles) dying words, his investigation gradually reveals the fascinating portrait of a complex man who rose from obscurity to staggering heights. Though Kane's friend and colleague Jedediah Leland (Joseph Cotten), and his mistress, Susan Alexander (Dorothy Comingore), shed fragments of light on Kane's life, the reporter fears he may never penetrate the mystery of the elusive man's final word, Rosebud." />

            <TextView
                android:id="@+id/cast_text_view"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/default_margin"
                android:text="@string/cast"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/overview_text_view" />

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/cast_list"
                creditsList="@{viewModel.movieDetails.cast}"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/cast_text_view"
                tools:listitem="@layout/credits_list_item" />

            <TextView
                android:id="@+id/crew_text_view"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/default_margin"
                android:text="@string/crew"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/cast_list" />

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/crew_list"
                creditsList="@{viewModel.movieDetails.crew}"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/crew_text_view"
                tools:listitem="@layout/credits_list_item" />


        </androidx.constraintlayout.widget.ConstraintLayout>

    </ScrollView>

</layout>